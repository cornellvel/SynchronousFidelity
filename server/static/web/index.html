<!DOCTYPE html>
<html>
  <!-- I hate CSS -->
  <head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" integrity="sha384-2hfp1SzUoho7/TsGGGDaFdsuuDL0LX2hnUp6VkX3CUQ2K4K+xjboZdsXyp4oUHZj" crossorigin="anonymous">
  </head>

  <body>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <form style="padding: 20px" id="graphForm" class="form-inline">
      <div class="form-group">
        <label for="name1">User</label>
        <input type="text" class="form-control" id="name1">
      </div>
      <div class="form-group">
        <label for="name2">Comparator</label>
        <input type="text" class="form-control" id="name2">
      </div>
      <button type="submit" class="btn btn-primary">Load Graph</button>
    </form>

    <form style="padding: 20px" id="eventForm" class="form-inline">
      <div class="form-group">
        <label for="evt1">Event 1</label>
        <input type="text" class="form-control" id="evt1">
      </div>
      <div class="form-group">
        <label for="evt2">Event 2</label>
        <input type="text" class="form-control" id="evt2">
      </div>
      <button type="submit" class="btn btn-primary">Download</button>
    </form>

    <form style="padding: 20px" id="timestampForm" class="form-inline">
      <div class="form-group">
        <label for="t1">Timestamp 1</label>
        <input type="text" class="form-control" id="t1">
      </div>
      <div class="form-group">
        <label for="t2">Timestamp 2</label>
        <input type="text" class="form-control" id="t2">
      </div>
      <button type="submit" class="btn btn-primary">Download</button>
    </form>

    <div>
      <a style="margin-left: 20px" class="btn btn-primary" href="eventEmitter.html">Go to Event Emitter</a>
    </div>

    <div>
      <a style="margin-top: 10px; margin-left: 20px" class="btn btn-primary" href="events.html">View all events!</a>
    </div>

  </body>

  <script type="text/javascript">

    var graphForm = document.getElementById("graphForm");

    graphForm.addEventListener("submit", function(event) {

      event.preventDefault();

      var user1 = document.getElementById('name1').value;
      var user2 = document.getElementById('name2').value;

      if (!user1 || !user2) {
        alert("Pleae enter both the user and comparator");
        return;
      }

      window.location.href = "new_graphs.html#username=" + user1 + "&comparator=" + user2;
      
    });
    

    var eventForm = document.getElementById("eventForm");

    eventForm.addEventListener("submit", function(event) {

      event.preventDefault();

      var evt1 = document.getElementById('evt1').value;
      var evt2 = document.getElementById('evt2').value;

      if (!evt1 || !evt2) {
        alert("Pleae enter both events...");
        return;
      }

      window.location.href = "api/compare/csvdata?evt1=" + encodeURIComponent(evt1) + 
        "&evt2=" + encodeURIComponent(evt2);

      
    });

    var timestampForm = document.getElementById("timestampForm");

    timestampForm.addEventListener("submit", function(event) {

      event.preventDefault();

      var t1 = document.getElementById('t1').value;
      var t2 = document.getElementById('t2').value;

      if (!t1 || !t2) {
        alert("Pleae enter both events...");
        return;
      }

      window.location.href = "api/compare/csvdata?t1=" + encodeURIComponent(t1) + 
        "&t2=" + encodeURIComponent(t2);

      
    });

  </script>
</html>


